<aura:component controller="IB_ViewAllSalesPrograms" implements="force:appHostable,flexipage:availableForRecordHome,flexipage:availableForAllPageTypes,force:lightningQuickAction,force:hasRecordId,force:hasSObjectName,lightning:isUrlAddressable" access="global" >
    <aura:attribute name="ProgramList" type="object"/>
    <aura:attribute name="data" type="object"/>
    <aura:attribute name="columns" type="object"/>
    <aura:attribute name="currentPageNumber" type="Integer" default="1"/>
    <aura:attribute name="pageSize" type="Integer" default="20"/>
    <aura:attribute name="totalPages" type="Integer" default="0"/>
    <aura:attribute name="pageList" type="List"/>
    <aura:attribute name="isLoading" type="boolean" default="false"/>
    
    <aura:attribute name="sortedBy" type="String"/>
    <aura:attribute name="sortedDirection" type="String"/>
    <aura:attribute name="defaultSortDirection" type="String"/>
    <aura:attribute name= "ruleName" type="string"/> 
    <aura:handler name="init" value="{!this}" action = "{!c.doInit}"/>
  
    
    
  <div style="" >
    
        
        
        <p class="salesprogramsheader" style="display:inline-block" >Sales Programs&nbsp;<span></span></p>
     <lightning:helptext
        content="This table displays the full list of sales programs (not limited to the 10 shown on the carousel) for the account at the STID level.  Click the arrow to view the details of each individual sales program. 
Estimated expected values are modelled estimates (in USD) of the typical size and type of the sales program based on other accounts that have had successful sales. Estimates are not specific to the individual account, and are route to market neutral. 
Sales Program Status starts at ‘Call to Action’ (red), changes to ‘Covered by Opportunity’ (green) or ‘Advance Opportunity’ (dark green) if a matching opportunity is found at either early stage or stage 4+, and changes to ‘No Action Needed’ (grey) if seller provides feedback. Status is updated multiple times per day (not real time).
Program Type can be Protect, Expand or Hunt. The Program Governance column denotes the business that developed the program - HIT or GreenLake." class="align_text" />
    
   <div>
      
      
       <lightning:datatable aura:id="ProgramsTable"
                             keyField="id"
                             data="{!v.data}"
                             columns="{!v.columns}"
                             hideCheckboxColumn="true"
                             onrowselection = "{!c.updateselectedtext}"
                             onrowaction="{! c.handleRowAction }"
                             selectedRows="{! v.selectedRows }"
                             sortedBy="{! v.sortedBy }"
                             sortedDirection="{! v.sortedDirection }"
                             defaultSortDirection="{! v.defaultSortDirection }"
                             onsort="{! c.updateColumnSorting }"   
                             />
       
      
       </div>
    <lightning:layout horizontalAlign="center" >
        <lightning:layoutItem padding="around-small" flexibility="auto">
            <lightning:button label="First" iconName="utility:left" iconPosition="left" variant="bare"
                              onclick="{!c.onFirst}" disabled="{! v.currentPageNumber == 1}"/>
            
            
            <aura:iteration items="{!v.pageList}" var="item">
                <span class="slds-p-horizontal_x-small">
                    <a onclick="{!c.processMe}" name="{!item}"
                       class="{! (v.currentPageNumber == item) ? 'selected' : ''}">{!item}</a>
                </span>
            </aura:iteration>
            
            <span class="slds-p-horizontal_xxx-small">
                <a>&nbsp;</a>
            </span>
            <span class="slds-p-horizontal_x-small">
                <a onclick="{!c.processMe}" name="{!v.totalPages}"
                   class="{! (v.currentPageNumber == v.totalPages) ? 'selected' : ''}">{!v.totalPages}</a>
            </span>
            
            <lightning:button label="Last" iconName="utility:right" iconPosition="right" variant="bare"
                              disabled="{! v.currentPageNumber == v.totalPages}" onclick="{!c.onLast}"/>
        </lightning:layoutItem>
    </lightning:layout>
   <div>
 
    </div>
        
 
        <aura:if isTrue="{! v.isLoading }">
            <lightning:icon class = "slds-modal__close" iconName="utility:close" alternativeText="Approved" title="Approved" onclick = "{! c.close }"/>
        <c:IB_SalesProgramDetails searchedObject="{!v.ruleName}" recordId ="{!v.recordId}"/> 
    </aura:if>
        </div>  
    <!--<aura:if isTrue="{!v.iscustomizeColumn}">        
        <section role="dialog" tabindex="-1" aria-labelledby="modal-heading-01" aria-modal="true" aria-describedby="modal-content-id-1" class="slds-modal slds-fade-in-open" style="height:500px;">    
            <div class="slds-modal__container" style="width:50%;">
                
                 ###### MODAL BOX HEADER Start ######
                <header class="slds-modal__header">
                    <lightning:buttonIcon iconName="utility:close"
                                          onclick="{! c.closecustomize }"
                                          alternativeText="close"
                                          variant="bare-inverse"
                                          class="slds-modal__close"/>            
                    
                </header>
                <div class="slds-modal__content slds-p-around_medium" id="modal-content-id-1">
                    <lightning:dualListbox name="multipleOptions"  
                                           label= "Customize Table
                                                   (* fields cannot be Deselected)" 
                                           sourceLabel="Deselected" 
                                           selectedLabel="Selected" 
                                           options="{!v.options}" 
                                           value="{!v.values}" 
                                           onchange="{! c.handleChange }"
                                           fieldLevelHelp="Re-order and Hide/Show Columns"
                                           requiredOptions="{!v.requiredOptions}"/>
                    
                </div>
                <footer class="slds-modal__footer">                                           
                    <button class="slds-button slds-button_neutral slds-float_center" onclick="{! c.closecustomize }">Cancel</button>
                    <button class="slds-button slds-button_brand slds-float_center" onclick="{! c.applySelectedColumns }">Apply</button> 
                    
                    button class="slds-button slds-button_brand">Save</button 
                </footer>
            </div>
        </section>
    </aura:if>-->
</aura:component>